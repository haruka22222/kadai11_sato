<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="style.css" rel="stylesheet" type="text/css">
  <title>じゃんけんゲーム</title>
</head>

<body>
    <div class="janken">
      <h1>★じゃんけんゲーム★</h1>
    </div>

      <div id="sentaku">↓のどれかを選んでね！</div>
      <div id="gubox">
        <div id="btn1">ぐーボタンだよ</div>
        <div id="teki1"></div>
      </div>
      <div id="chokibox">
        <div id="btn2">チョキボタンだよ</div>
        <div id="teki2"></div>
      </div>
      <div id="pabox">
        <div id="btn3">パーボタンだよ</div>
        <div id="teki3"></div>
      </div>
    </div>

<div id="win">
</div>

<div id="lose">
</div>

<div id="draw">
</div>

<div id="test">
  もう一度やる
</div>

  <script>

  var sentaku = document.getElementById('sentaku');

  var gubox = document.getElementById('gubox');
  var choki = document.getElementById('choki');
  var pabox = document.getElementById('pabox');

  var btn1 = document.getElementById('btn1');
  var teki1 = document.getElementById('teki1');
  var btn2 = document.getElementById('btn2');
  var teki2 = document.getElementById('teki2');
  var btn3 = document.getElementById('btn3');
  var teki3 = document.getElementById('teki3');

  var win = document.getElementById('win');
  var lose = document.getElementById('lose');
  var draw = document.getElementById('draw');

  var test = document.getElementById('test');

  var rand = Math.floor(Math.random() * 3);


  btn1.addEventListener('click', function(){
    if(rand == 0){
      btn1.innerHTML = '<img src="img/janken_gu.png">';
      teki1.innerHTML = '<img src="img/janken_teki_pa.png">';
      lose.innerHTML = '<img src="img/lose.png">';
    }else if(rand == 1){
      btn1.innerHTML = '<img src="img/janken_gu.png">';
      teki1.innerHTML = '<img src="img/janken_teki_choki.png">';
      win.innerHTML = '<img src="img/win.png">';
    }else if(rand == 2){
      btn1.innerHTML = '<img src="img/janken_gu.png">';
      teki1.innerHTML = '<img src="img/janken_teki_gu.png">';
      draw.innerHTML = '<img src="img/draw.png">';
    }
      chokibox.style.display = "none";
      pabox.style.display = "none";
      sentaku.style.display = "none";
  });


  btn2.addEventListener('click', function(){
    if(rand == 0){
      btn2.innerHTML = '<img src="img/janken_teki_choki.png">';
      teki2.innerHTML = '<img src="img/janken_teki_pa.png">';
      win.innerHTML = '<img src="img/win.png">';
    }else if(rand == 1){
      btn2.innerHTML = '<img src="img/janken_choki.png">';
      teki2.innerHTML = '<img src="img/janken_teki_choki.png">';
      draw.innerHTML = '<img src="img/draw.png">';
    }else if(rand == 2){
      btn2.innerHTML = '<img src="img/janken_choki.png">';
      teki2.innerHTML = '<img src="img/janken_teki_gu.png">';
      lose.innerHTML = '<img src="img/lose.png">';
    }
    gubox.style.display = "none";
    pabox.style.display = "none";
    sentaku.style.display = "none";
  });

  btn3.addEventListener('click', function(){
    if(rand == 0){
      btn3.innerHTML = '<img src="img/janken_pa.png">';
      teki3.innerHTML = '<img src="img/janken_teki_pa.png">';
      draw.innerHTML = '<img src="img/draw.png">';
    }else if(rand == 1){
      btn3.innerHTML = '<img src="img/janken_pa.png">';
      teki3.innerHTML = '<img src="img/janken_teki_choki.png">';
      lose.innerHTML = '<img src="img/lose.png">';

    }else if(rand == 2){
      btn3.innerHTML = '<img src="img/janken_pa.png">';
      teki3.innerHTML = '<img src="img/janken_teki_gu.png">';
      win.innerHTML = '<img src="img/win.png">';
    }
    chokibox.style.display = "none";
    gubox.style.display = "none";
    sentaku.style.display = "none";
  });

test.addEventListener('click', function(){
  window.location.reload();
});

//星を作る関数。n は星の個数。多いほど星が多く振ります。
function starMaker(n) {
    var star = document.createElement("div");
    star.className = "star";
    star.textContent = "★";
    for(var i = 0; i < n; i++) {
        starSet(star);
    }
}

//星のセッティングをする関数。
function starSet(clone) {
    var starClone = clone.cloneNode(true);
    var starStyle = starClone.style;

    //星の位置（left）、アニメーションの遅延時間（animation-delay）、サイズ（font-size）をランダムで指定
    starStyle.left = 100 * Math.random() + "%";
    starStyle.animationDelay = 8 * Math.random() + "s";
    starStyle.fontSize = ~~(50 * Math.random() + 20) + "px";
    document.body.appendChild(starClone);

    //星一つのアニメーションが終わったら新しい星を生成
    starClone.addEventListener("animationend", function() {
        this.parentNode.removeChild(this);
        var star = document.createElement("div");
        star.className = "star";
        star.textContent = "★";
        starSet(star);
    }, false)
}

//使用例。星を35個ふらせます。
starMaker(35)

  </script>

</body>
</html>
